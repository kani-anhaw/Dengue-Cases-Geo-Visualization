{%extends "base.html"%}
{%load static%}
{%block content%}

<!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous"> -->

	<!-- SIDEBAR -->
	<section id="sidebar">
		<a href="#" class="brand">

			<img src="{%static 'jiys.png'%}" alt="" style="width: 50px; height: auto;  margin: 10px; margin-top:20px;">
			<!-- <i class='bx bxs-smile'></i> -->
			<span class="text">ITD112</span>
		</a>
		<ul class="side-menu top">
			<li class="active">
				<a href="#">
					<i class='bx bxs-dashboard' ></i>
					<span class="text">Dashboard</span>
				</a>
			</li>
			<!-- <li>
				<a href="#">
					<i class='bx bxs-brush-alt'></i>
					<span class="text">Data Processing</span>
				</a>
			</li> -->
			<li>
				<a href="{% url 'final:analytics' %}">
					<i class='bx bxs-doughnut-chart' ></i>
					<span class="text">Choropleth Map</span>
				</a>
			</li>
			<li>
				<a href="{% url 'final:bubbleMap' %}">
					<i class='bx bxs-message-dots' ></i>
					<span class="text">Bubble Map</span>
				</a>
			</li>
			<li>
				<a href="{% url 'final:others' %}">
					<i class='bx bxs-group' ></i>
					<span class="text">Others</span>
				</a>
			</li>
		</ul>
		<ul class="side-menu">
			<li>
				<a href="#">
					<i class='bx bxs-cog' ></i>
					<span class="text">Settings</span>
				</a>
			</li>
			<li>
				<a href="#" class="logout">
					<i class='bx bxs-log-out-circle' ></i>
					<span class="text">Logout</span>
				</a>
			</li>
		</ul>
	</section>
	<!-- SIDEBAR -->



	<!-- CONTENT -->
	<section id="content">
		<!-- NAVBAR -->
		

		<!-- MAIN -->
		<main>
			<div class="head-title">
				<div class="left">
					<h1 style="font-size: 28px; font-weight: bold;">Philippine Dengue Cases and Deaths 2016-2021</h1>
			
						
					<!-- <ul class="breadcrumb">
						<li>
							<a href="#">Dashboard</a>
						</li>
						<li><i class='bx bx-chevron-right' ></i></li>
						<li>
							<a class="active" href="#">Home</a>
						</li>
					</ul> -->
				</div>
			
			</div>

			<ul class="box-info">
				<li>
					<i class='bx bxs-virus'></i>
					<span class="text">
						<h3>{{total_case}}</h3>
						<p>Total Cases</p>
					</span>
				</li>
				<li>
					<i class='bx bxs-skull'></i>
					<span class="text">
						<h3>{{total_death}}</h3>
						<p>Total Deaths</p>
					</span>
				</li>
				<li>
					<i class='bx bxs-donate-blood'></i>
					<span class="text">
						<h3>{{colon_ratio}}</h3>
						<p>Death Ratio</p>
					</span>
				</li>
			</ul>


			<div class="table-data">
				<div class="order">

					<div class="head">
						<h3>Dataset</h3>
			



						  <i class='bx bx-search' ></i>
						<i class='bx bx-filter' ></i>
					</div>





					<table id="sortable-table" class="table table-striped" style="font-size: 13px;">
						<thead>
							<tr>
								<th scope="col">City <i class='bx bx-filter' onclick="sortTable(0)"></i></th>
								<th scope="col">Cases <i class='bx bx-filter' onclick="sortTable(1)"></i></th>
								<th scope="col">Deaths <i class='bx bx-filter' onclick="sortTable(2)"></i></th>
								<th scope="col">Region <i class='bx bx-filter' onclick="sortTable(3)"></i></th>
							</tr>
						</thead>
						<tbody>
							{% for city_data in items %}
								<tr>
									<td>{{ city_data.city }}</td>
									<td>{{ city_data.total_cases }}</td>
									<td>{{ city_data.total_deaths }}</td>
									<td>{{ city_data.region }}</td>
								</tr>
							{% endfor %}
						</tbody>
					</table>

					<!-- <table class="table table-striped"  style="font-size: 13px;">
						
						<thead>
							<tr>
							  
							  <th scope="col">City</th>
							  <th scope="col">Cases</th>
							  <th scope="col">Deaths</th>  
							  <th scope="col">Region</th>
							</tr>
						  </thead>
						  <tbody>
			  
							  {% for city_data in items %}
			  
							<tr>
							 
							  
							  <td>{{ city_data.city }}</td>
							  <td>{{ city_data.total_cases }}</td>
							  <td>{{ city_data.total_deaths }}</td>
							  <td>{{ city_data.region }}</td>
							</tr>
			  
							{% endfor %}


							
						  </tbody>
					</table> -->
			
					<div class="pagination" >
						<!-- Pagination content here -->
						<span class="step-links">
							{% if items.has_previous %}
								<a href="?page=1">&laquo; first</a>
								<a href="?page={{ items.previous_page_number }}">previous</a>
							{% endif %}
			
							<span class="current">
								Page {{ items.number }} of {{ items.paginator.num_pages }}.
							</span>
			
							{% if items.has_next %}
								<a href="?page={{ items.next_page_number }}">next</a>
								<a href="?page={{ items.paginator.num_pages }}">last &raquo;</a>
							{% endif %}
						</span>
					</div>
				</div>
			
				<div class="todo" style="margin-left: 2%; width: 40%;">
					<div class="head">
						<h3>Dataset Info</h3>
						<i class='bx bx-plus'></i>
						<i class='bx bx-filter'></i>
					</div>
					<p style="font-size: 13px;">
						This web application uses the Philippine Dengue deaths and cases per each municipalities from the year 2016-2021.
						The dataframe has eight columns: City, deaths, region, latitude, longitude, month, and year. The dataframe has 32180 total entries. The data shows the number of deaths in various cities and regions across the country in different months and years. The data can be used to analyze the trends and patterns of the disease mortality.</p>
						<br> 
						
						<p style="font-size: 13px;">Link to the dataset: <a href="https://data.humdata.org/dataset/philippine-dengue-cases-and-deaths"> DOH-Epi Dengue Data 2016-2021</a>.
					</p>
				</div>
			</div>


		</main>
		<!-- MAIN -->
	</section>
	<!-- CONTENT -->


	<script>
		function sortTable(columnIndex) {
			var table, rows, switching, i, x, y, shouldSwitch;
			table = document.getElementById("sortable-table");
			switching = true;
	
			while (switching) {
				switching = false;
				rows = table.rows;
	
				for (i = 1; i < rows.length - 1; i++) {
					shouldSwitch = false;
					x = rows[i].getElementsByTagName("td")[columnIndex];
					y = rows[i + 1].getElementsByTagName("td")[columnIndex];
	
					if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {
						shouldSwitch = true;
						break;
					}
				}
	
				if (shouldSwitch) {
					rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
					switching = true;
				}
			}
		}
	</script>
 

	{%endblock content%}

		
